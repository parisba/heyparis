{{ define "main" }}
{{/* Header */}}
<div class="page-header">
  <h1>{{ .Title }}</h1>
  {{ with .Description }}
  <p style="color: var(--cyber-cyan);">{{ . }}</p>
  {{ end }}
  <p style="color: var(--lime-green); font-size: var(--text-sm);">
    Total posts: {{ len .Pages }}
  </p>
</div>

<hr>

{{/* Post listing */}}
{{ $paginator := .Paginate .Pages 15 }}

<ul class="post-list">
  {{ range $index, $page := $paginator.Pages }}
  <li class="post-list__item">
    <span>
      {{ if lt $index 3 }}<span class="post-list__new">NEW!</span>{{ end }}
      <a href="{{ .Permalink }}" class="post-list__link">{{ .Title }}</a>
    </span>
    <span class="post-list__date">{{ .Date.Format "01/02/06" }}</span>
  </li>
  {{ end }}
</ul>

{{/* Pagination */}}
{{ if gt $paginator.TotalPages 1 }}
<div class="pagination">
  {{ if $paginator.HasPrev }}
  <a href="{{ $paginator.Prev.URL }}" class="pagination__link">&lt;&lt; Prev</a>
  {{ end }}

  <span class="pagination__current">
    Page {{ $paginator.PageNumber }} of {{ $paginator.TotalPages }}
  </span>

  {{ if $paginator.HasNext }}
  <a href="{{ $paginator.Next.URL }}" class="pagination__link">Next &gt;&gt;</a>
  {{ end }}
</div>
{{ end }}

<p class="divider-stars">* * * * * * * * * *</p>

<p style="text-align: center;">
  <a href="/" class="btn-3d">Back to Homepage</a>
</p>
{{ end }}
